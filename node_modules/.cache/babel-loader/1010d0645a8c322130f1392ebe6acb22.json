{"ast":null,"code":"var _jsxFileName = \"D:\\\\vscode\\\\react_netease_music\\\\src\\\\components\\\\Login.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Form, Input, Button } from 'antd';\nimport { useNavigate } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport { login } from \"./utils/login\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormItem = Form.Item; //登陆页面\n\nexport default function Login() {\n  _s();\n\n  const [name, setName] = useState(''); //用户名\n\n  const [password, setPassWord] = useState(''); //密码\n\n  const history = useNavigate();\n  return /*#__PURE__*/_jsxDEV(Form, {\n    className: \"login-form\",\n    children: [/*#__PURE__*/_jsxDEV(FormItem, {\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",\n        maxLength: 20,\n        onChange: event => {\n          setName(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n        maxLength: 16,\n        type: \"password\",\n        onChange: event => {\n          setPassWord(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        id: \"login-button\",\n        onClick: () => {\n          loginThroughPhone(name, password).then(response => {\n            let res = response.data;\n            console.log(res.code);\n\n            if (res.code === 200) {\n              history('/my'); //如果登陆成功，则跳转到我的音乐页面\n            } else {\n              alert(\"登陆失败，请检查用户名或密码\"); //如果不成功，则提示登陆失败\n              //下面是通过antD里面Alert组件的方式跳转,不过会打开新的页面\n              // ReactDOM.render(<Alert\n              //     message=\"错误\"\n              //     description=\"登陆失败，请检查用户名或密码\"\n              //     type=\"error\"\n              //     showIcon/>,document.getElementById('root'));\n            }\n          });\n        },\n        children: \"\\u767B\\u5F55\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"eGWPp0ftDmxLDv2I797Uz800t3M=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nfunction loginThroughPhone(phone, password) {\n  return login({\n    phone: phone,\n    password: password\n  });\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/vscode/react_netease_music/src/components/Login.tsx"],"names":["React","useState","Form","Input","Button","useNavigate","login","FormItem","Item","Login","name","setName","password","setPassWord","history","event","target","value","loginThroughPhone","then","response","res","data","console","log","code","alert","phone"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,IAAR,EAAcC,KAAd,EAAqBC,MAArB,QAAyC,MAAzC;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,OAAO,oBAAP;AACA,SAAQC,KAAR,QAAoB,eAApB;;AAEA,MAAMC,QAAQ,GAAGL,IAAI,CAACM,IAAtB,C,CACA;;AACA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAC5B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC,CAD4B,CACS;;AACrC,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC,CAF4B,CAEiB;;AAC7C,QAAMa,OAAO,GAAGT,WAAW,EAA3B;AACA,sBACI,QAAC,IAAD;AAAM,IAAA,SAAS,EAAC,YAAhB;AAAA,4BACI,QAAC,QAAD;AAAA,6BACI,QAAC,KAAD;AAAO,QAAA,WAAW,EAAC,sCAAnB;AAA4B,QAAA,SAAS,EAAE,EAAvC;AAA2C,QAAA,QAAQ,EAAGU,KAAD,IAAW;AAC5DJ,UAAAA,OAAO,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP;AACH;AAFD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAMI,QAAC,QAAD;AAAA,6BACI,QAAC,KAAD;AAAO,QAAA,WAAW,EAAC,gCAAnB;AAA2B,QAAA,SAAS,EAAE,EAAtC;AAA0C,QAAA,IAAI,EAAC,UAA/C;AAA0D,QAAA,QAAQ,EAAGF,KAAD,IAAW;AAC3EF,UAAAA,WAAW,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACH;AAFD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YANJ,eAWI,QAAC,QAAD;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,EAAE,EAAC,cAA1B;AAAyC,QAAA,OAAO,EAAE,MAAM;AACpDC,UAAAA,iBAAiB,CAACR,IAAD,EAAOE,QAAP,CAAjB,CAAkCO,IAAlC,CAAwCC,QAAD,IAAc;AACjD,gBAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;;AACA,gBAAIJ,GAAG,CAACI,IAAJ,KAAa,GAAjB,EAAsB;AAClBX,cAAAA,OAAO,CAAC,KAAD,CAAP,CADkB,CACH;AAClB,aAFD,MAEO;AACHY,cAAAA,KAAK,CAAC,gBAAD,CAAL,CADG,CACqB;AAExB;AACA;AACA;AACA;AACA;AACA;AACH;AACJ,WAfD;AAgBH,SAjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkCH;;GAtCuBjB,K;UAGJJ,W;;;KAHII,K;;AAwCxB,SAASS,iBAAT,CAA2BS,KAA3B,EAA0Cf,QAA1C,EAA4D;AACxD,SAAON,KAAK,CACR;AACIqB,IAAAA,KAAK,EAACA,KADV;AAEIf,IAAAA,QAAQ,EAACA;AAFb,GADQ,CAAZ;AAMH","sourcesContent":["import React, {useState} from \"react\";\r\nimport {Form, Input, Button, Alert} from 'antd'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport 'antd/dist/antd.css'\r\nimport {login} from \"./utils/login\";\r\n\r\nconst FormItem = Form.Item;\r\n//登陆页面\r\nexport default function Login() {\r\n    const [name, setName] = useState('');//用户名\r\n    const [password, setPassWord] = useState('');//密码\r\n    const history = useNavigate();\r\n    return (\r\n        <Form className=\"login-form\">\r\n            <FormItem>\r\n                <Input placeholder=\"请输入用户名\" maxLength={20} onChange={(event) => {\r\n                    setName(event.target.value);\r\n                }}/>\r\n            </FormItem>\r\n            <FormItem>\r\n                <Input placeholder=\"请输入密码\" maxLength={16} type=\"password\" onChange={(event) => {\r\n                    setPassWord(event.target.value);\r\n                }}/>\r\n            </FormItem>\r\n            <FormItem>\r\n                <Button type=\"primary\" id=\"login-button\" onClick={() => {\r\n                    loginThroughPhone(name, password).then((response) => {\r\n                        let res = response.data;\r\n                        console.log(res.code)\r\n                        if (res.code === 200) {\r\n                            history('/my');//如果登陆成功，则跳转到我的音乐页面\r\n                        } else {\r\n                            alert(\"登陆失败，请检查用户名或密码\");//如果不成功，则提示登陆失败\r\n\r\n                            //下面是通过antD里面Alert组件的方式跳转,不过会打开新的页面\r\n                            // ReactDOM.render(<Alert\r\n                            //     message=\"错误\"\r\n                            //     description=\"登陆失败，请检查用户名或密码\"\r\n                            //     type=\"error\"\r\n                            //     showIcon/>,document.getElementById('root'));\r\n                        }\r\n                    });\r\n                }}>登录</Button>\r\n            </FormItem>\r\n        </Form>\r\n    );\r\n}\r\n\r\nfunction loginThroughPhone(phone: string, password: string) {\r\n    return login(\r\n        {\r\n            phone:phone,\r\n            password:password,\r\n        }\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}