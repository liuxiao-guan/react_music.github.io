{"ast":null,"code":"import _slicedToArray from\"D:/vscode/react_netease_music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Form,Input,Button}from'antd';import{useNavigate}from'react-router-dom';import'antd/dist/antd.css';import{login}from\"./utils/login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormItem=Form.Item;//登陆页面\nexport default function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];//用户名\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassWord=_useState4[1];//密码\nvar history=useNavigate();return/*#__PURE__*/_jsxs(Form,{className:\"login-form\",children:[/*#__PURE__*/_jsx(FormItem,{children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",maxLength:20,onChange:function onChange(event){setName(event.target.value);}})}),/*#__PURE__*/_jsx(FormItem,{children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",maxLength:16,type:\"password\",onChange:function onChange(event){setPassWord(event.target.value);}})}),/*#__PURE__*/_jsx(FormItem,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",id:\"login-button\",onClick:function onClick(){loginThroughPhone(name,password).then(function(response){var res=response.data;console.log(res.code);if(res.code===200){history('/my');//如果登陆成功，则跳转到我的音乐页面\n}else{alert(\"登陆失败，请检查用户名或密码\");//如果不成功，则提示登陆失败\n//下面是通过antD里面Alert组件的方式跳转,不过会打开新的页面\n// ReactDOM.render(<Alert\n//     message=\"错误\"\n//     description=\"登陆失败，请检查用户名或密码\"\n//     type=\"error\"\n//     showIcon/>,document.getElementById('root'));\n}});},children:\"\\u767B\\u5F55\"})})]});}function loginThroughPhone(phone,password){return login({phone:phone,password:password});}","map":{"version":3,"sources":["D:/vscode/react_netease_music/src/components/Login.tsx"],"names":["React","useState","Form","Input","Button","useNavigate","login","FormItem","Item","Login","name","setName","password","setPassWord","history","event","target","value","loginThroughPhone","then","response","res","data","console","log","code","alert","phone"],"mappings":"oJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,IAAR,CAAcC,KAAd,CAAqBC,MAArB,KAAyC,MAAzC,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,MAAO,oBAAP,CACA,OAAQC,KAAR,KAAoB,eAApB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAGL,IAAI,CAACM,IAAtB,CACA;AACA,cAAe,SAASC,CAAAA,KAAT,EAAiB,eACJR,QAAQ,CAAC,EAAD,CADJ,wCACrBS,IADqB,eACfC,OADe,eACS;AADT,eAEIV,QAAQ,CAAC,EAAD,CAFZ,yCAErBW,QAFqB,eAEXC,WAFW,eAEiB;AAC7C,GAAMC,CAAAA,OAAO,CAAGT,WAAW,EAA3B,CACA,mBACI,MAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,wBACI,KAAC,QAAD,wBACI,KAAC,KAAD,EAAO,WAAW,CAAC,sCAAnB,CAA4B,SAAS,CAAE,EAAvC,CAA2C,QAAQ,CAAE,kBAACU,KAAD,CAAW,CAC5DJ,OAAO,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP,CACH,CAFD,EADJ,EADJ,cAMI,KAAC,QAAD,wBACI,KAAC,KAAD,EAAO,WAAW,CAAC,gCAAnB,CAA2B,SAAS,CAAE,EAAtC,CAA0C,IAAI,CAAC,UAA/C,CAA0D,QAAQ,CAAE,kBAACF,KAAD,CAAW,CAC3EF,WAAW,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACH,CAFD,EADJ,EANJ,cAWI,KAAC,QAAD,wBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,EAAE,CAAC,cAA1B,CAAyC,OAAO,CAAE,kBAAM,CACpDC,iBAAiB,CAACR,IAAD,CAAOE,QAAP,CAAjB,CAAkCO,IAAlC,CAAuC,SAACC,QAAD,CAAc,CACjD,GAAIC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,IAAnB,CACAC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB,EACA,GAAIJ,GAAG,CAACI,IAAJ,GAAa,GAAjB,CAAsB,CAClBX,OAAO,CAAC,KAAD,CAAP,CAAe;AAClB,CAFD,IAEO,CACHY,KAAK,CAAC,gBAAD,CAAL,CAAwB;AAExB;AACA;AACA;AACA;AACA;AACA;AACH,CACJ,CAfD,EAgBH,CAjBD,0BADJ,EAXJ,GADJ,CAkCH,CAED,QAASR,CAAAA,iBAAT,CAA2BS,KAA3B,CAA0Cf,QAA1C,CAA4D,CACxD,MAAON,CAAAA,KAAK,CACR,CACIqB,KAAK,CAACA,KADV,CAEIf,QAAQ,CAACA,QAFb,CADQ,CAAZ,CAMH","sourcesContent":["import React, {useState} from \"react\";\r\nimport {Form, Input, Button, Alert} from 'antd'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport 'antd/dist/antd.css'\r\nimport {login} from \"./utils/login\";\r\n\r\nconst FormItem = Form.Item;\r\n//登陆页面\r\nexport default function Login() {\r\n    const [name, setName] = useState('');//用户名\r\n    const [password, setPassWord] = useState('');//密码\r\n    const history = useNavigate();\r\n    return (\r\n        <Form className=\"login-form\">\r\n            <FormItem>\r\n                <Input placeholder=\"请输入用户名\" maxLength={20} onChange={(event) => {\r\n                    setName(event.target.value);\r\n                }}/>\r\n            </FormItem>\r\n            <FormItem>\r\n                <Input placeholder=\"请输入密码\" maxLength={16} type=\"password\" onChange={(event) => {\r\n                    setPassWord(event.target.value);\r\n                }}/>\r\n            </FormItem>\r\n            <FormItem>\r\n                <Button type=\"primary\" id=\"login-button\" onClick={() => {\r\n                    loginThroughPhone(name, password).then((response) => {\r\n                        let res = response.data;\r\n                        console.log(res.code)\r\n                        if (res.code === 200) {\r\n                            history('/my');//如果登陆成功，则跳转到我的音乐页面\r\n                        } else {\r\n                            alert(\"登陆失败，请检查用户名或密码\");//如果不成功，则提示登陆失败\r\n\r\n                            //下面是通过antD里面Alert组件的方式跳转,不过会打开新的页面\r\n                            // ReactDOM.render(<Alert\r\n                            //     message=\"错误\"\r\n                            //     description=\"登陆失败，请检查用户名或密码\"\r\n                            //     type=\"error\"\r\n                            //     showIcon/>,document.getElementById('root'));\r\n                        }\r\n                    });\r\n                }}>登录</Button>\r\n            </FormItem>\r\n        </Form>\r\n    );\r\n}\r\n\r\nfunction loginThroughPhone(phone: string, password: string) {\r\n    return login(\r\n        {\r\n            phone:phone,\r\n            password:password,\r\n        }\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}