{"ast":null,"code":"/**\r\n * create a throttle callback\r\n * @param callback\r\n * @param delay\r\n * @param thisArg\r\n */\nexport const createThrottle = (callback, delay, thisArg) => {\n  let lastInvokeTime = Date.now();\n\n  const _delay = Number(delay) || 200; //或运算符，真前假后\n\n\n  return (...args) => {\n    const now = Date.now();\n\n    if (now - _delay <= lastInvokeTime) {\n      return;\n    }\n\n    lastInvokeTime = now;\n    callback.call(thisArg, ...args);\n  };\n};","map":{"version":3,"sources":["D:/vscode/react_netease_music/src/components/detail/createThrottle.tsx"],"names":["createThrottle","callback","delay","thisArg","lastInvokeTime","Date","now","_delay","Number","args","call"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,cAAc,GAAG,CAC5BC,QAD4B,EAE5BC,KAF4B,EAG5BC,OAH4B,KAIf;AACb,MAAIC,cAAsB,GAAGC,IAAI,CAACC,GAAL,EAA7B;;AACA,QAAMC,MAAM,GAAGC,MAAM,CAACN,KAAD,CAAN,IAAiB,GAAhC,CAFa,CAEuB;;;AACpC,SAAO,CAAC,GAAGO,IAAJ,KAA0B;AAC/B,UAAMH,GAAG,GAAGD,IAAI,CAACC,GAAL,EAAZ;;AACA,QAAIA,GAAG,GAAGC,MAAN,IAAgBH,cAApB,EAAoC;AAClC;AACD;;AACDA,IAAAA,cAAc,GAAGE,GAAjB;AACAL,IAAAA,QAAQ,CAACS,IAAT,CAAcP,OAAd,EAAuB,GAAGM,IAA1B;AACD,GAPD;AAQD,CAfM","sourcesContent":["/**\r\n * create a throttle callback\r\n * @param callback\r\n * @param delay\r\n * @param thisArg\r\n */\r\nexport const createThrottle = (\r\n  callback: Function,\r\n  delay?: number,\r\n  thisArg?: unknown\r\n): Function => {\r\n  let lastInvokeTime: number = Date.now();\r\n  const _delay = Number(delay) || 200 //或运算符，真前假后\r\n  return (...args: any[]): void => {\r\n    const now = Date.now()\r\n    if (now - _delay <= lastInvokeTime) {\r\n      return;\r\n    }\r\n    lastInvokeTime = now;\r\n    callback.call(thisArg, ...args)\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}